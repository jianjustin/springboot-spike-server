<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>Login</title>
  <link rel="stylesheet" th:href="@{/static/css/style.css}">
  <script  th:src="@{/static/js/axios.js}"></script>
</head>
<body>

<main class="c-login">
  <div class="c-login__container js-login">
    <form action="#" class="c-form js-form">
      <div class="f-field">
        <input class="f-text js-user" id="username" type="text" required>
        <label class="f-label" for="username">用户名</label>
      </div>

      <div class="f-field">
        <input class="f-text js-pass" id="password" type="password" required>
        <label class="f-label" for="password">密码</label>
        <button class="c-reveal js-reveal" type="button" aria-label="Reveal password">
          <svg class="c-icon c-icon--eye" viewBox="0 0 24 14"><path d="M8.20779221,0.727130786 C9.4891839,0.242374505 10.7532405,0 12,0 C13.2467595,0 14.5021582,0.22506204 15.7662338,0.675192873 C17.0303094,1.12532371 18.1385234,1.67932257 19.0909091,2.3372061 C20.0432948,2.99508962 20.9004291,3.65296328 21.6623377,4.3108468 C22.4242462,4.96873033 22.9956691,5.5227292 23.3766234,5.97286003 L24,6.6480529 C23.9307356,6.75192925 23.8268405,6.88177273 23.6883117,7.03758725 C23.5497829,7.19340177 23.2467556,7.50502613 22.7792208,7.97246969 C22.311686,8.43991325 21.8355003,8.8813811 21.3506494,9.29688648 C20.8657984,9.71239186 20.251086,10.1798284 19.5064935,10.6992101 C18.761901,11.2185919 18.0173197,11.6600597 17.2727273,12.0236269 C16.5281348,12.3871941 15.6883164,12.6901623 14.7532468,12.9325404 C13.8181771,13.1749186 12.9004374,13.2961058 12,13.2961058 C10.7532405,13.2961058 9.49784182,13.0710438 8.23376623,12.6209129 C6.96969065,12.1707821 5.86147662,11.6167832 4.90909091,10.9588997 C3.95670519,10.3010162 3.09957091,9.65179876 2.33766234,9.01122796 C1.57575377,8.37065716 1.00433091,7.80800206 0.623376623,7.32324578 L0,6.6480529 C0.173161039,6.47492566 0.389609091,6.24120739 0.649350649,5.94689107 C0.909092208,5.65257476 1.46319922,5.11588836 2.31168831,4.33681576 C3.1601774,3.55774317 4.03462753,2.88255704 4.93506494,2.31123714 C5.83550234,1.73991724 6.92640052,1.21188707 8.20779221,0.727130786 Z M8.36541759,10.2739625 C9.36925965,11.2777084 10.580775,11.7795738 12,11.7795738 C13.419225,11.7795738 14.6307403,11.2777084 15.6345824,10.2739625 C16.6384245,9.27021656 17.140338,8.05881724 17.140338,6.63972818 C17.140338,5.22063912 16.6384245,4.01789265 15.6345824,3.03145269 C14.6307403,2.04501273 13.419225,1.55180015 12,1.55180015 C10.580775,1.55180015 9.36925965,2.04501273 8.36541759,3.03145269 C7.36157552,4.01789265 6.85966201,5.22063912 6.85966201,6.63972818 C6.85966201,8.05881724 7.36157552,9.27021656 8.36541759,10.2739625 Z M8.94048494,6.6480529 C8.94048494,6.23200579 9.02716012,5.83329996 9.20051308,5.45192344 C9.37386605,5.07054692 9.590554,4.74984875 9.85058344,4.4898193 C10.1106129,4.22978986 10.4313111,4.0131019 10.8126876,3.83974894 C11.1940641,3.66639598 11.5927699,3.57972079 12.008817,3.57972079 C12.8409113,3.57972079 13.5603153,3.88308393 14.1670506,4.4898193 C14.773786,5.09655467 15.0771492,5.81595868 15.0771492,6.6480529 C15.0771492,7.48014713 14.773786,8.19955113 14.1670506,8.8062865 C13.5603153,9.41302188 12.8409113,9.71638501 12.008817,9.71638501 C11.1767228,9.71638501 10.4573188,9.41302188 9.85058344,8.8062865 C9.24384807,8.19955113 8.94048494,7.48014713 8.94048494,6.6480529 Z"></path></svg>
        </button>
      </div>

      <button class="c-button js-submit" type="submit" onclick="signin()">登&nbsp;&nbsp;录</button>
    </form>
	<!--
    <div class="c-links">
      <a class="c-links__item" href="#" title="Request access">Request access</a>
      <a class="c-links__item" href="#" title="Forgot password?">Forgot password?</a>
    </div>
    -->
  </div>
</main>

<svg class="c-background js-background" viewBox="0 0 24 24">
  <polygon class="c-background__shape js-shape" points="0 0 24 0 0 24"></polygon>
</svg>

</body>
<script type="text/javascript">
var signin = function() {
	var username = document.getElementById("username").value;
	var password = document.getElementById("password").value;
	
	axios({
	  method: 'POST',
	  url: '/signin',
	  responseType: 'application/json',
	  data:{
		  "username":username,
		  "password":password
	  }
	}).then(function (response) {
		debugger;
		if(response.status == 200 && 'OK' == response.data.code)
			window.location.href = '/';
	});
}
</script>
</html>
